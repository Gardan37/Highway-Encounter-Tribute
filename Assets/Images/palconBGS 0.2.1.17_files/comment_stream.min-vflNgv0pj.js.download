define(["require","exports","tslib","react","classnames","spectrum_comments/thread","spectrum_comments/comment","spectrum_comments/comment_editor/comment_utils","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_bar","spectrum_comments/utils/scroll_list"],function(e,t,n,o,r,a,i,d,c,s,m){"use strict";function l(e){return e.isEmpty?null:o.createElement(s.PostBar,n.__assign({},e,{postLabel:"Post",cancelLabel:"Cancel",disableCancelButton:e.isEmpty}))}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={content:d.createEmptyContent(),editedComment:void 0},t.onThreadActivated=function(e){return function(){t.props.actionsAdapter.onThreadActivated(e)}},t.onStartEdit=function(e){t.setState({editedComment:e})},t.onEndEdit=function(){t.setState({editedComment:void 0})},t.handleClick=function(e){e.currentTarget===e.target&&t.props.actionsAdapter.onAllThreadsDeactivated()},t.onThreadReplyCancel=function(){t.onTopEditorCancel(),t.props.actionsAdapter.onAllThreadsDeactivated()},t.onTopEditorCancel=function(){t.setState({content:d.createEmptyContent(),editedComment:void 0})},t.onEditorFocus=function(){t.props.actionsAdapter.onAllThreadsDeactivated(),t.props.actionsAdapter.onEditorFocused()},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,d=t.actionsAdapter,s=d.onCommentDeleted,u=d.onCommentEdited,p=d.onClickTimeCode,h=d.onEditorFocused,C=d.onMentionsQueryUpdated,E=d.onThreadCreated,f=d.onThreadMarkedAsRead,v=d.onThreadMarkedAsUnread,T=d.onThreadRepliedTo,_=d.onThreadResolved,A=d.onThreadUnresolved,y=t.className,M=void 0===y?"":y,b=t.commentComponent,k=void 0===b?function(e){return o.createElement(i.Comment,n.__assign({},e))}:b,S=t.editorComponent,R=void 0===S?function(e){return o.createElement(c.CommentEditor,n.__assign({},e))}:S,g=t.enabled,U=t.user,D=t.mentionsMatches,F=t.activeThreadID,N=t.isMobile,P=t.threads,L=P.every(function(e){return void 0===e.pending}),Q=r(M,{"sc-comment-stream":!0,"sc-comment-stream-enabled":g,"sc-comment-stream-all-threads-complete":L}),x=null;U&&(x=R({author:U,className:"sc-comment-stream-editor",content:this.state.content,placeholder:"Write a comment",postSignalComponent:l,onCancel:this.onTopEditorCancel,onPost:E,mentionsMatches:D,onMentionsQueryUpdated:C,onFocus:this.onEditorFocus}));var B=P.map(function(t){return o.createElement(a.Thread,{key:t.id,actions:{onClickTimeCode:p,onReply:function(e){return T(t.id,e)},onMarkAsRead:function(){return f(t.id)},onMarkAsUnread:function(){return v(t.id)},onResolve:function(){return _(t.id)},onUnresolve:function(){return A(t.id)},onEditorFocused:function(){return h(t.id)},onCommentDeleted:function(e){return s(e,t.id)},onCommentEdited:function(e,n){return u(e,n,t.id)},onMentionsQueryUpdated:C},active:t.id===F,commentComponent:k,editedComment:e.state.editedComment,onActivated:e.onThreadActivated(t),onCancel:e.onThreadReplyCancel,onStartEdit:e.onStartEdit,onEndEdit:e.onEndEdit,isMobile:N,thread:t,user:U,mentionsMatches:D})});return o.createElement("div",{className:Q},!N&&x,o.createElement(m.ScrollList,{className:"sc-comment-stream-threads",onClick:this.handleClick},B))},t})(o.PureComponent);t.CommentStream=u,a.Thread.displayName="Thread"});
//# sourceMappingURL=comment_stream.min.js-vfliBZ8YL.map